{"version":3,"sources":["webpack:///./src/views/hfod/Header.vue?9bb1","webpack:///src/views/hfod/Header.vue","webpack:///./src/views/hfod/Header.vue?3d62","webpack:///./src/views/hfod/Header.vue","webpack:///./src/views/hfod/Header.vue?c48c","webpack:///./src/views/city/City.vue?f35b","webpack:///./src/views/city/City.vue?0a30","webpack:///src/views/city/City.vue","webpack:///./src/views/city/City.vue?e5aa","webpack:///./src/views/city/City.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","GoBack","attrs","on","$event","$router","go","_e","_v","_t","_s","Address","cities","staticStyle","staticRenderFns","props","data","usercheack","computed","mounted","$store","state","user","user_check","component","name","slot","model","value","callback","$$v","cityval","expression","submit","search","length","_l","v","i","key","CitygoMsite","address","_m","getpois","del","components","Header","methods","$dialog","alert","message","$http","val","geohash","check","push","localStorage","setItem","JSON","stringify","commit","removeItem","get","obj"],"mappings":"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","file":"js/City.3c328247.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"header\"},[_c('div',{staticClass:\"header-icon-search\"},[(_vm.GoBack=='true')?_c('span',[_c('van-icon',{attrs:{\"name\":\"arrow-left\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}})],1):_vm._e(),(_vm.GoBack=='ele.me')?_c('span',{staticClass:\"span\"},[_vm._v(\"ele.me\")]):_vm._e(),_vm._t(\"search\")],2),_c('div',{staticClass:\"address\"},[(_vm.Address)?_c('span',[_vm._v(_vm._s(_vm.Address.cities))]):_vm._e(),_vm._t(\"pois\"),(_vm.Address=='seek')?_c('span',[_vm._v(\"搜索\")]):_vm._e(),_vm._t(\"order\"),_vm._t(\"login\"),_vm._t(\"profile\"),_vm._t(\"profile_info\"),_vm._t(\"download\"),_vm._t(\"infousername\"),_vm._t(\"addContent\"),_vm._t(\"addressadd\"),_vm._t(\"addDetail\"),_vm._t(\"forget\"),_vm._t(\"confirm\")],2),_c('div',{staticClass:\"header-icon-user\"},[_vm._t(\"head\"),(_vm.Head)?_c('span',[(_vm.usercheack)?_c('router-link',{attrs:{\"to\":\"/profile\"}},[_c('van-icon',{staticClass:\"el-icon-user\",attrs:{\"name\":\"contact\"}})],1):_c('router-link',{attrs:{\"to\":\"/login\"}},[_c('span',{staticStyle:{\"color\":\"#fff\"}},[_vm._v(\"登录|注册\")])])],1):_vm._e(),_vm._t(\"addRight\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 头部 -->\r\n  <header class=\"header\">\r\n    <div class=\"header-icon-search\">\r\n      <!-- 回退图标 -->\r\n      <span v-if=\"GoBack=='true'\">\r\n        <van-icon name=\"arrow-left\" @click=\"$router.go(-1)\" />\r\n      </span>\r\n\r\n      <!-- 所有城市页面的ele.me字 -->\r\n      <span v-if=\"GoBack=='ele.me'\" class=\"span\">ele.me</span>\r\n\r\n      <!-- 附近商品页面的搜索图标 -->\r\n      <slot name=\"search\"></slot>\r\n    </div>\r\n\r\n    <div class=\"address\">\r\n      <!-- 搜索城市页面地址 -->\r\n      <span v-if=\"Address\">{{Address.cities}}</span>\r\n\r\n      <!-- 附近商品页面的地址 -->\r\n      <slot name=\"pois\"></slot>\r\n\r\n      <!-- 搜索页面文字 -->\r\n      <span v-if=\"Address=='seek'\">搜索</span>\r\n\r\n      <!-- 订单页面 -->\r\n      <slot name=\"order\"></slot>\r\n\r\n      <!-- 登录页面 -->\r\n      <slot name=\"login\"></slot>\r\n\r\n      <!-- 我的页面 -->\r\n      <slot name=\"profile\"></slot>\r\n      <!-- 用户信息 -->\r\n      <slot name=\"profile_info\"></slot>\r\n      <!-- 下载App -->\r\n      <slot name=\"download\"></slot>\r\n      <!-- 修改用户名 -->\r\n      <slot name=\"infousername\"></slot>\r\n      <!-- 编辑地址 -->\r\n      <slot name=\"addContent\"></slot>\r\n      <!-- 新增地址 -->\r\n      <slot name=\"addressadd\"></slot>\r\n      <!-- 搜索地址 -->\r\n      <slot name=\"addDetail\"></slot>\r\n      <!-- 重置密码 -->\r\n      <slot name=\"forget\"></slot>\r\n      <!-- 下单页面 -->\r\n      <slot name=\"confirm\"></slot>\r\n    </div>\r\n\r\n    <div class=\"header-icon-user\">\r\n      <!-- 搜索地址页面的切换城市 -->\r\n      <slot name=\"head\"></slot>\r\n\r\n      <!-- 是登录注册还是已经登录过 -->\r\n      <span v-if=\"Head\">\r\n        <router-link to=\"/profile\" v-if=\"usercheack\">\r\n          <van-icon name=\"contact\" class=\"el-icon-user\" />\r\n        </router-link>\r\n        <router-link to=\"/login\" v-else>\r\n          <span style=\"color:#fff\">登录|注册</span>\r\n        </router-link>\r\n      </span>\r\n\r\n      <!-- 编辑地址的编辑/完成 -->\r\n      <slot name=\"addRight\"></slot>\r\n    </div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  props: [\"GoBack\", \"Address\", \"Head\"],\r\n  data() {\r\n    return {\r\n      usercheack: \"\"\r\n    };\r\n  },\r\n  computed: {},\r\n  mounted() {\r\n    this.usercheack = this.$store.state.user.user_check;\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.header {\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 99;\r\n  width: 100%;\r\n  height: 0.55rem;\r\n  background: #3190e8;\r\n  .header-icon-search {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    margin-left: 0.1rem;\r\n    line-height: 0.55rem;\r\n    color: #fff;\r\n    .van-icon {\r\n      font-size: 0.25rem;\r\n      margin-right: 0.5rem;\r\n      line-height: 0.55rem;\r\n    }\r\n    span {\r\n      width: 1.5rem;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      font-size: 0.2rem;\r\n    }\r\n    .search {\r\n      line-height: 0.55rem;\r\n      color: #fff;\r\n      font-size: 0.3rem;\r\n    }\r\n  }\r\n  .address {\r\n    margin: 0 auto;\r\n    width: 1.5rem;\r\n    span {\r\n      width: 1.5rem;\r\n      text-align: center;\r\n      font-size: 0.22rem;\r\n      display: block;\r\n      color: #fff;\r\n      font-family: \"圆体\";\r\n      line-height: 0.55rem;\r\n      // font-weight: 600;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      font-weight: 700;\r\n    }\r\n  }\r\n  .header-icon-user {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    margin-right: 0.1rem;\r\n    line-height: 0.55rem;\r\n    color: #fff;\r\n    .el-icon-user {\r\n      font-size: 0.3rem;\r\n      line-height: 0.55rem;\r\n      color: #fff;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=7e94d92e&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=7e94d92e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e94d92e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=7e94d92e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=7e94d92e&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=style&index=0&id=43a7e5eb&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=style&index=0&id=43a7e5eb&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Shopping\"},[_c('Header',{attrs:{\"GoBack\":\"true\",\"Address\":{cities:_vm.cities.name}}},[_c('span',{attrs:{\"slot\":\"head\"},slot:\"head\"},[_c('router-link',{attrs:{\"to\":\"/home\",\"tag\":\"span\"}},[_vm._v(\"切换城市\")])],1)]),_c('main',{staticClass:\"main\"},[_c('div',{staticClass:\"city\"},[_c('div',{staticClass:\"city-input\"},[_c('mt-field',{attrs:{\"placeholder\":\"输入学校、商务楼、地址\"},model:{value:(_vm.cityval),callback:function ($$v) {_vm.cityval=$$v},expression:\"cityval\"}})],1),_c('div',{staticClass:\"city-button\"},[_c('mt-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"提交\")])],1)]),(_vm.search==1)?_c('div',{staticClass:\"search\"},[_c('p',[_vm._v(\"很抱歉！无搜索结果\")])]):_vm._e(),(_vm.search.length>0)?_c('div',{staticClass:\"getpois_ul\"},[_c('ul',_vm._l((_vm.search),function(v,i){return _c('li',{key:i,on:{\"click\":function($event){return _vm.CitygoMsite(v)}}},[_c('p',[_vm._v(_vm._s(v.name))]),_c('span',[_vm._v(_vm._s(v.address))])])}),0)]):_vm._e(),(_vm.search.length==0)?_c('div',[_vm._m(0),(_vm.getpois.length>0)?_c('div',{staticClass:\"getpois\"},[_c('ul',_vm._l((_vm.getpois),function(v,i){return _c('li',{key:i,on:{\"click\":function($event){return _vm.CitygoMsite(v)}}},[_c('p',[_vm._v(_vm._s(v.name))]),_c('span',[_vm._v(_vm._s(v.address))])])}),0),_c('div',{staticClass:\"del\",on:{\"click\":function($event){return _vm.del()}}},[_vm._v(\"清空所有\")])]):_vm._e()]):_vm._e()])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pois\"},[_c('p',[_vm._v(\"搜索历史\")])])}]\n\nexport { render, staticRenderFns }","  <template>\r\n  <!-- 搜索地址页面 -->\r\n  <div class=\"Shopping\">\r\n    <!-- 表头 -->\r\n    <Header GoBack=\"true\" :Address=\"{cities:cities.name}\">\r\n      <span slot=\"head\">\r\n        <router-link to=\"/home\" tag=\"span\">切换城市</router-link>\r\n      </span>\r\n    </Header>\r\n\r\n    <main class=\"main\">\r\n      <div class=\"city\">\r\n        <div class=\"city-input\">\r\n          <mt-field v-model=\"cityval\" placeholder=\"输入学校、商务楼、地址\"></mt-field>\r\n        </div>\r\n        <div class=\"city-button\">\r\n          <mt-button type=\"primary\" @click=\"submit()\">提交</mt-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"search\" v-if=\"search==1\">\r\n        <p>很抱歉！无搜索结果</p>\r\n      </div>\r\n      <div class=\"getpois_ul\" v-if=\"search.length>0\">\r\n        <ul>\r\n          <li v-for=\"(v,i) in search\" :key=\"i\" @click=\"CitygoMsite(v)\">\r\n            <p>{{v.name}}</p>\r\n            <span>{{v.address}}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div v-if=\"search.length==0\">\r\n        <div class=\"pois\">\r\n          <p>搜索历史</p>\r\n        </div>\r\n        <div class=\"getpois\" v-if=\"getpois.length>0\">\r\n          <ul>\r\n            <!-- 点击跳转商家页面 -->\r\n            <li v-for=\"(v,i) in getpois\" :key=\"i\" @click=\"CitygoMsite(v)\">\r\n              <p>{{v.name}}</p>\r\n              <span>{{v.address}}</span>\r\n            </li>\r\n          </ul>\r\n          <div class=\"del\" @click=\"del()\">清空所有</div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from \"../hfod/Header.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      cityval: \"\", //input内容\r\n      cities: [], //传递id的城市数据内容\r\n      search: [], //搜索内容\r\n      getpois: [] //搜索历史\r\n    };\r\n  },\r\n  components: {\r\n    Header\r\n  },\r\n  methods: {\r\n    //提交\r\n    submit() {\r\n      // this.$refs.inputVal.focus();\r\n      if (this.cityval == \"\") {\r\n        this.$dialog.alert({\r\n          message: \"内容不能为空\"\r\n        });\r\n      } else {\r\n        //点击搜索地址数据内容\r\n        let id = this.$route.params.id;\r\n        this.$http\r\n          .get(\r\n            `http://elm.cangdu.org/v1/pois?type=search&city_id=${id}&keyword=${this.cityval}`\r\n          )\r\n          .then(res => {\r\n            // console.log(res);\r\n            if (res.data.length == 0) {\r\n              res.data = 1;\r\n            }\r\n            this.search = res.data;\r\n            // console.log(this.search);\r\n          });\r\n      }\r\n    },\r\n\r\n    //跳转到点击的附件商家\r\n    CitygoMsite(v) {\r\n      // console.log(v);\r\n      let getpois = [...this.getpois]; //拷贝搜索历史的内容\r\n      let check = getpois.some(val => {\r\n        return val.geohash == v.geohash;\r\n      });\r\n      if (check == false) {\r\n        getpois.push(v);\r\n      }\r\n      // console.log(check);\r\n\r\n      localStorage.setItem(\"placeHistory\", JSON.stringify(getpois));\r\n      // console.log(getpois);\r\n\r\n      this.getpois = getpois;\r\n      this.$store.commit(\"setGeohash\", v.geohash);\r\n      this.$router.push({ path: `/msite`, query: { geohash: v.geohash } });\r\n      // console.log(check);\r\n    },\r\n\r\n    //删除搜索历史\r\n    del() {\r\n      this.getpois = [];\r\n      localStorage.removeItem(\"placeHistory\");\r\n    }\r\n  },\r\n  mounted() {\r\n    //传递id的城市数据内容\r\n    let id = this.$route.params.id;\r\n\r\n    this.$http.get(`http://elm.cangdu.org/v1/cities/${id}`).then(res => {\r\n      this.cities = res.data;\r\n    });\r\n\r\n    // 本地存储赋值\r\n    let obj = JSON.parse(localStorage.getItem(\"placeHistory\"));\r\n    // console.log(obj);\r\n    if (obj) {\r\n      this.getpois = obj;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.Shopping {\r\n  margin: 0;\r\n  padding: 0;\r\n  background: #f4f4f4;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.search {\r\n  height: 0.45rem;\r\n  line-height: 0.45rem;\r\n  text-indent: 0.2rem;\r\n  background: #fff;\r\n  border-top: 0.02rem #ccc solid;\r\n}\r\n.Shopping .main {\r\n  flex-grow: 1;\r\n  width: 100%;\r\n  margin-top: 0.7rem;\r\n}\r\n.Shopping .main .city {\r\n  padding: 0.1rem 0;\r\n  background: #fff;\r\n  border-top: 0.01rem #ccc solid;\r\n}\r\n.Shopping .main .city .city-input {\r\n  padding: 0 0.2rem;\r\n  margin-bottom: 0.1rem;\r\n}\r\n.Shopping .main .city .city-button {\r\n  padding: 0 0.2rem;\r\n}\r\n.Shopping .main .city .mint-cell {\r\n  height: 0.34rem;\r\n  // margin-top: 0.05rem;\r\n  color: #333;\r\n  border: 0.01rem solid #e4e4e4;\r\n  border-radius: 0.05rem;\r\n}\r\n\r\n.Shopping .main .city button {\r\n  width: 100%;\r\n  height: 0.45rem;\r\n  font-size: 0.2rem;\r\n}\r\n.Shopping .main .pois {\r\n  width: 100%;\r\n  border-top: 0.02rem solid #e4e4e4;\r\n  border-bottom: 0.02rem solid #e4e4e4;\r\n}\r\n.Shopping .main .pois p {\r\n  text-align: left;\r\n  font-size: 0.12rem;\r\n  color: #3b3b3b;\r\n  text-indent: 0.15rem;\r\n  padding: 0.05rem 0;\r\n}\r\n.Shopping .main .getpois {\r\n  border-top: 0.01rem solid #e4e4e4;\r\n  width: 100%;\r\n}\r\n.Shopping .main .getpois ul li {\r\n  background: #fff;\r\n  padding-top: 0.2rem;\r\n  border-bottom: 0.01rem solid #e4e4e4;\r\n}\r\n.Shopping .main .getpois ul li span {\r\n  margin-left: 0.2rem;\r\n}\r\n.Shopping .main .getpois ul li p {\r\n  margin-left: 0.2rem;\r\n}\r\n.Shopping .main .getpois ul li p {\r\n  font-size: 0.18rem;\r\n}\r\n.Shopping .main .getpois ul li span {\r\n  display: block;\r\n  font-size: 0.12rem;\r\n  margin-top: 0.1rem;\r\n  color: #999;\r\n  margin-bottom: 0.1rem;\r\n}\r\n.Shopping .main .getpois .del {\r\n  height: 0.5rem;\r\n  color: #666;\r\n  background: #fff;\r\n  text-align: center;\r\n  line-height: 0.5rem;\r\n}\r\n.Shopping .main .getpois_ul ul li {\r\n  background: #fff;\r\n  padding-top: 0.2rem;\r\n  padding-bottom: 0.1rem;\r\n  border-top: 0.01rem solid #e4e4e4;\r\n}\r\n.Shopping .main .getpois_ul ul li p {\r\n  text-indent: 0.2rem;\r\n  font-size: 0.18rem;\r\n}\r\n.Shopping .main .getpois_ul ul li span {\r\n  display: block;\r\n  font-size: 0.12rem;\r\n  margin-top: 0.1rem;\r\n  color: #999;\r\n  margin-bottom: 0.1rem;\r\n  margin-left: 0.2rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./City.vue?vue&type=template&id=43a7e5eb&scoped=true&\"\nimport script from \"./City.vue?vue&type=script&lang=js&\"\nexport * from \"./City.vue?vue&type=script&lang=js&\"\nimport style0 from \"./City.vue?vue&type=style&index=0&id=43a7e5eb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43a7e5eb\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}